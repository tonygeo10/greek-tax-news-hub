<!doctype html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Greek Tax News Hub - AADE</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { box-sizing: border-box; }
        .loading-spinner {
            border: 3px solid #f3f4f6;
            border-top: 3px solid #3b82f6;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .news-card {
            transition: all 0.3s ease;
            border: 1px solid #e5e7eb;
        }
        .news-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            border-color: #3b82f6;
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        .line-clamp-3 {
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        .toast {
            position: fixed;
            top: 1rem;
            right: 1rem;
            z-index: 50;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            color: white;
            transform: translateX(100%);
            transition: transform 0.3s ease;
        }
        .toast.show { transform: translateX(0); }
        .toast.success { background-color: #059669; }
        .toast.error { background-color: #dc2626; }
        .toast.warning { background-color: #d97706; }
        .toast.info { background-color: #2563eb; }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <header class="bg-white shadow-sm border-b">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center space-x-3">
                    <div class="text-2xl">ğŸ‡¬ğŸ‡·</div>
                    <div>
                        <h1 class="text-2xl font-bold text-gray-900">AADE News Hub</h1>
                        <p class="text-sm text-gray-600">Î•Î¹Î´Î®ÏƒÎµÎ¹Ï‚ Î±Ï€ÏŒ Ï„Î·Î½ Î‘Î½ÎµÎ¾Î¬ÏÏ„Î·Ï„Î· Î‘ÏÏ‡Î® Î”Î·Î¼Î¿ÏƒÎ¯Ï‰Î½ Î•ÏƒÏŒÎ´Ï‰Î½</p>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <button id="refresh-btn" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors">
                        <span id="refresh-icon">ğŸ”„</span>
                        <span>Î‘Î½Î±Î½Î­Ï‰ÏƒÎ·</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <section class="bg-white rounded-lg shadow-sm p-6 mb-8">
            <h2 class="text-lg font-semibold text-gray-900 mb-4">Î Î·Î³Î­Ï‚ RSS Î‘Î‘Î”Î•</h2>
            
            <div class="mb-6">
                <h3 class="text-md font-medium text-gray-700 mb-3">Î•Ï€Î¯ÏƒÎ·Î¼Î· Î Î·Î³Î® Î‘Î‘Î”Î•:</h3>
                <div class="grid grid-cols-1 gap-3">
                    <button id="add-aade-feed" class="popular-feed-btn bg-blue-50 hover:bg-blue-100 border border-blue-200 rounded-lg p-4 text-left transition-colors">
                        <div class="font-medium text-blue-900 text-lg">Î‘Î‘Î”Î• - Î”ÎµÎ»Ï„Î¯Î± Î¤ÏÏ€Î¿Ï… & Î‘Î½Î±ÎºÎ¿Î¹Î½ÏÏƒÎµÎ¹Ï‚</div>
                        <div class="text-sm text-blue-700 mt-1">Î•Ï€Î¯ÏƒÎ·Î¼ÎµÏ‚ Î±Î½Î±ÎºÎ¿Î¹Î½ÏÏƒÎµÎ¹Ï‚ ÎºÎ±Î¹ Î´ÎµÎ»Ï„Î¯Î± Ï„ÏÏ€Î¿Ï… Î±Ï€ÏŒ Ï„Î·Î½ Î‘Î‘Î”Î•</div>
                        <div class="text-xs text-blue-500 mt-2">https://www.aade.gr/deltia-typoy-anakoinoseis?format=rss</div>
                    </button>
                </div>
            </div>
        </section>

        <section id="articles-section">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-xl font-semibold text-gray-900">Î‘Î½Î±ÎºÎ¿Î¹Î½ÏÏƒÎµÎ¹Ï‚ Î‘Î‘Î”Î• <span id="article-count" class="text-gray-500">(0)</span></h2>
            </div>

            <div id="loading-state" class="hidden text-center py-12">
                <div class="loading-spinner mx-auto mb-4"></div>
                <p class="text-gray-600">Î¦ÏŒÏÏ„Ï‰ÏƒÎ· ÎµÎ¹Î´Î®ÏƒÎµÏ‰Î½ Î±Ï€ÏŒ Î‘Î‘Î”Î•...</p>
            </div>

            <div id="empty-state" class="text-center py-12">
                <div class="text-6xl mb-4">ğŸ›ï¸</div>
                <h3 class="text-lg font-medium text-gray-900 mb-2">Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ Î±Î½Î±ÎºÎ¿Î¹Î½ÏÏƒÎµÎ¹Ï‚</h3>
                <p class="text-gray-600 mb-6">Î ÏÎ¿ÏƒÎ¸Î­ÏƒÏ„Îµ Ï„Î·Î½ Ï€Î·Î³Î® RSS Î±Ï€ÏŒ Ï„Î·Î½ Î‘Î‘Î”Î• Î³Î¹Î± Î½Î± Î´ÎµÎ¯Ï„Îµ Ï„Î¹Ï‚ Ï„ÎµÎ»ÎµÏ…Ï„Î±Î¯ÎµÏ‚ Î±Î½Î±ÎºÎ¿Î¹Î½ÏÏƒÎµÎ¹Ï‚</p>
                <button id="add-first-feed" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-colors">
                    Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· Î Î·Î³Î®Ï‚ Î‘Î‘Î”Î•
                </button>
            </div>

            <div id="articles-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            </div>
        </section>
    </main>

    <script>
        // DEMO DATA - Since AADE RSS is blocked, we'll use realistic sample data
        const AADE_DEMO_ARTICLES = [
            {
                title: "ÎÎ­ÎµÏ‚ Î´Î¹Î±Ï„Î¬Î¾ÎµÎ¹Ï‚ Î³Î¹Î± Ï„Î· Ï†Î¿ÏÎ¿Î»Î¿Î³Î¯Î± Î·Î»ÎµÎºÏ„ÏÎ¿Î½Î¹ÎºÏÎ½ ÏƒÏ…Î½Î±Î»Î»Î±Î³ÏÎ½",
                description: "Î— Î‘Î‘Î”Î• Î±Î½Î±ÎºÎ¿Î¹Î½ÏÎ½ÎµÎ¹ Î½Î­ÎµÏ‚ ÏÏ…Î¸Î¼Î¯ÏƒÎµÎ¹Ï‚ Î³Î¹Î± Ï„Î· Ï†Î¿ÏÎ¿Î»Î¿Î³Î¹ÎºÎ® Î´Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· Î·Î»ÎµÎºÏ„ÏÎ¿Î½Î¹ÎºÏÎ½ Ï€Î»Î·ÏÏ‰Î¼ÏÎ½ ÎºÎ±Î¹ ÏˆÎ·Ï†Î¹Î±ÎºÏÎ½ ÏƒÏ…Î½Î±Î»Î»Î±Î³ÏÎ½.",
                source_url: "https://www.aade.gr/article/elctronic-tax-2024",
                pub_date: new Date().toISOString(),
                source: "Î‘Î‘Î”Î• - Î”ÎµÎ»Ï„Î¯Î± Î¤ÏÏ€Î¿Ï…",
                category: "official"
            },
            {
                title: "Î ÏÎ¿ÎµÎºÏ„Î±Î¸ÎµÎ¯ÏƒÎ± Ï€ÏÎ¿Î¸ÎµÏƒÎ¼Î¯Î± Ï…Ï€Î¿Î²Î¿Î»Î®Ï‚ Î•3 Î´Î·Î»ÏÏƒÎµÏ‰Î½",
                description: "Î•ÎºÏ„Î¬Î¸Î·ÎºÎµ Î· Ï€ÏÎ¿Î¸ÎµÏƒÎ¼Î¯Î± Ï…Ï€Î¿Î²Î¿Î»Î®Ï‚ Ï„Ï‰Î½ Î´Î·Î»ÏÏƒÎµÏ‰Î½ Î•3 Î³Î¹Î± Ï„Î¿ Ï†Î¿ÏÎ¿Î»Î¿Î³Î¹ÎºÏŒ Î­Ï„Î¿Ï‚ 2023 Î­Ï‰Ï‚ Ï„Î¹Ï‚ 31 Î™Î¿Ï…Î»Î¯Î¿Ï….",
                source_url: "https://www.aade.gr/article/e3-deadline-extension",
                pub_date: new Date(Date.now() - 86400000).toISOString(),
                source: "Î‘Î‘Î”Î• - Î”ÎµÎ»Ï„Î¯Î± Î¤ÏÏ€Î¿Ï…",
                category: "official"
            },
            {
                title: "Î•Î½Î·Î¼ÎµÏÏ‰Î¼Î­Î½Î¿Ï‚ Î¿Î´Î·Î³ÏŒÏ‚ Î³Î¹Î± Ï„Î¿ myDATA ÏƒÏÏƒÏ„Î·Î¼Î±",
                description: "ÎÎ­Î± Î­ÎºÎ´Î¿ÏƒÎ· Ï„ÎµÏ‡Î½Î¹ÎºÎ¿Ï Î¿Î´Î·Î³Î¿Ï Î³Î¹Î± Ï„Î·Î½ ÎµÏ†Î±ÏÎ¼Î¿Î³Î® Ï„Î¿Ï… ÏƒÏ…ÏƒÏ„Î®Î¼Î±Ï„Î¿Ï‚ myDATA ÎºÎ±Î¹ Ï„Î·Î½ Î·Î»ÎµÎºÏ„ÏÎ¿Î½Î¹ÎºÎ® Ï„Î¹Î¼Î¿Î»ÏŒÎ³Î·ÏƒÎ·.",
                source_url: "https://www.aade.gr/article/mydata-guide-2024",
                pub_date: new Date(Date.now() - 172800000).toISOString(),
                source: "Î‘Î‘Î”Î• - Î”ÎµÎ»Ï„Î¯Î± Î¤ÏÏ€Î¿Ï…",
                category: "official"
            },
            {
                title: "Î‘Î»Î»Î±Î³Î­Ï‚ ÏƒÏ„Î¿ ÏƒÏÏƒÏ„Î·Î¼Î± Î±Î¾Î¹Î¿Î»ÏŒÎ³Î·ÏƒÎ·Ï‚ ÎµÏ€Î¹Ï‡ÎµÎ¹ÏÎ®ÏƒÎµÏ‰Î½",
                description: "Î’ÎµÎ»Ï„Î¹ÏÏƒÎµÎ¹Ï‚ ÏƒÏ„Î¿ ÏƒÏÏƒÏ„Î·Î¼Î± Ï€Î¹ÏƒÏ„Î¿Ï€Î¿Î¯Î·ÏƒÎ·Ï‚ ÎºÎ±Î¹ Î±Î¾Î¹Î¿Î»ÏŒÎ³Î·ÏƒÎ·Ï‚ Ï†Î¿ÏÎ¿Î»Î¿Î³Î¹ÎºÎ®Ï‚ ÏƒÏ…Î¼Ï€ÎµÏÎ¹Ï†Î¿ÏÎ¬Ï‚ ÎµÏ€Î¹Ï‡ÎµÎ¹ÏÎ®ÏƒÎµÏ‰Î½.",
                source_url: "https://www.aade.gr/article/business-evaluation-2024",
                pub_date: new Date(Date.now() - 259200000).toISOString(),
                source: "Î‘Î‘Î”Î• - Î”ÎµÎ»Ï„Î¯Î± Î¤ÏÏ€Î¿Ï…",
                category: "official"
            },
            {
                title: "ÎÎ­Î± Î¼Î­Ï„ÏÎ± ÎºÎ±Ï„Î±Ï€Î¿Î»Î­Î¼Î·ÏƒÎ·Ï‚ Ï„Î·Ï‚ Ï†Î¿ÏÎ¿Î´Î¹Î±Ï†Ï…Î³Î®Ï‚",
                description: "Î•Ï†Î±ÏÎ¼Î¿Î³Î® Î½Î­Ï‰Î½ Î¼Î­Ï„ÏÏ‰Î½ ÎºÎ±Î¹ Î´Î¹Î±Î´Î¹ÎºÎ±ÏƒÎ¹ÏÎ½ Î³Î¹Î± Ï„Î·Î½ ÎµÎ½Î¯ÏƒÏ‡Ï…ÏƒÎ· Ï„Î¿Ï… Î±Î³ÏÎ½Î± ÎºÎ±Ï„Î¬ Ï„Î·Ï‚ Ï†Î¿ÏÎ¿Î´Î¹Î±Ï†Ï…Î³Î®Ï‚.",
                source_url: "https://www.aade.gr/article/tax-evasion-measures",
                pub_date: new Date(Date.now() - 345600000).toISOString(),
                source: "Î‘Î‘Î”Î• - Î”ÎµÎ»Ï„Î¯Î± Î¤ÏÏ€Î¿Ï…",
                category: "official"
            },
            {
                title: "Î•ÎºÏƒÏ…Î³Ï‡ÏÎ¿Î½Î¹ÏƒÎ¼ÏŒÏ‚ Ï„Î·Ï‚ Ï€Î»Î±Ï„Ï†ÏŒÏÎ¼Î±Ï‚ TAXISnet",
                description: "Î’ÎµÎ»Ï„Î¹ÏÏƒÎµÎ¹Ï‚ ÏƒÏ„Î·Î½ Ï€Î»Î±Ï„Ï†ÏŒÏÎ¼Î± TAXISnet Î¼Îµ Î½Î­ÎµÏ‚ Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯ÎµÏ‚ ÎºÎ±Î¹ Î²ÎµÎ»Ï„Î¹Ï‰Î¼Î­Î½Î· ÎµÎ¼Ï€ÎµÎ¹ÏÎ¯Î± Ï‡ÏÎ®ÏƒÏ„Î·.",
                source_url: "https://www.aade.gr/article/taxisnet-upgrade",
                pub_date: new Date(Date.now() - 432000000).toISOString(),
                source: "Î‘Î‘Î”Î• - Î”ÎµÎ»Ï„Î¯Î± Î¤ÏÏ€Î¿Ï…",
                category: "official"
            }
        ];

        // Simple RSS Parser using demo data
        class RSSParser {
            static async parseRSSFeed() {
                console.log('ğŸ“¡ Using demo AADE data (RSS blocked by CORS)');
                
                // Return demo articles after a short delay to simulate network request
                return new Promise((resolve) => {
                    setTimeout(() => {
                        console.log(`âœ… Loaded ${AADE_DEMO_ARTICLES.length} demo articles from AADE`);
                        resolve(AADE_DEMO_ARTICLES.map(article => ({
                            ...article,
                            read: false,
                            bookmarked: false,
                            created_at: new Date().toISOString()
                        })));
                    }, 1500);
                });
            }
        }

        // Data Storage with localStorage
        class DataStorage {
            constructor() {
                this.storageKey = 'aadeNewsData';
            }
            
            async init() {
                return { isOk: true };
            }
            
            async getAll() {
                const stored = localStorage.getItem(this.storageKey);
                if (stored) {
                    const data = JSON.parse(stored);
                    return { isOk: true, data: data.articles || [] };
                }
                return { isOk: true, data: [] };
            }
            
            async create(article) {
                const stored = localStorage.getItem(this.storageKey);
                const data = stored ? JSON.parse(stored) : { articles: [], feeds: [] };
                
                article.id = 'article_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
                data.articles.push(article);
                
                localStorage.setItem(this.storageKey, JSON.stringify(data));
                return { isOk: true };
            }
            
            async update(updatedArticle) {
                const stored = localStorage.getItem(this.storageKey);
                if (stored) {
                    const data = JSON.parse(stored);
                    const index = data.articles.findIndex(a => a.id === updatedArticle.id);
                    if (index !== -1) {
                        data.articles[index] = updatedArticle;
                        localStorage.setItem(this.storageKey, JSON.stringify(data));
                    }
                }
                return { isOk: true };
            }
        }

        // Main Application
        class AADENewsApp {
            constructor() {
                this.articles = [];
                this.hasFeed = false;
                this.isLoading = false;
                this.dataStorage = new DataStorage();
                
                this.init();
            }
            
            async init() {
                console.log('ğŸš€ Initializing AADE News Hub...');
                
                await this.dataStorage.init();
                const result = await this.dataStorage.getAll();
                this.articles = result.data || [];
                
                // Check if we already have the AADE feed
                this.hasFeed = this.articles.some(article => article.source === 'Î‘Î‘Î”Î• - Î”ÎµÎ»Ï„Î¯Î± Î¤ÏÏ€Î¿Ï…');
                
                this.setupEventListeners();
                this.renderArticles();
                
                console.log('âœ… App initialized with', this.articles.length, 'articles');
                console.log('AADE feed:', this.hasFeed ? 'Added' : 'Not added');
            }
            
            setupEventListeners() {
                document.getElementById('refresh-btn').addEventListener('click', () => this.refreshFeed());
                document.getElementById('add-aade-feed').addEventListener('click', () => this.addAADEFeed());
                document.getElementById('add-first-feed').addEventListener('click', () => this.addAADEFeed());
            }
            
            async addAADEFeed() {
                if (this.hasFeed) {
                    this.showNotification('Î— Ï€Î·Î³Î® Î‘Î‘Î”Î• Ï…Ï€Î¬ÏÏ‡ÎµÎ¹ Î®Î´Î·!', 'warning');
                    return;
                }
                
                this.hasFeed = true;
                this.showNotification('Î ÏÎ¿ÏƒÏ„Î­Î¸Î·ÎºÎµ Ï€Î·Î³Î® Î‘Î‘Î”Î•!', 'success');
                
                await this.fetchAADEArticles();
            }
            
            async refreshFeed() {
                if (!this.hasFeed) {
                    this.showNotification('Î Î±ÏÎ±ÎºÎ±Î»Ï Ï€ÏÎ¿ÏƒÎ¸Î­ÏƒÏ„Îµ Ï€ÏÏÏ„Î± Ï„Î·Î½ Ï€Î·Î³Î® Î‘Î‘Î”Î•', 'warning');
                    return;
                }
                
                if (this.isLoading) {
                    this.showNotification('Î— Î±Î½Î±Î½Î­Ï‰ÏƒÎ· ÎµÎ¯Î½Î±Î¹ Î®Î´Î· ÏƒÎµ ÎµÎ¾Î­Î»Î¹Î¾Î·...', 'info');
                    return;
                }
                
                await this.fetchAADEArticles();
            }
            
            async fetchAADEArticles() {
                this.setLoading(true);
                this.showNotification('Î¦ÏŒÏÏ„Ï‰ÏƒÎ· Î±Î½Î±ÎºÎ¿Î¹Î½ÏÏƒÎµÏ‰Î½ Î±Ï€ÏŒ Î‘Î‘Î”Î•...', 'info');
                
                try {
                    console.log('ğŸ”„ Fetching AADE articles...');
                    
                    const articles = await RSSParser.parseRSSFeed();
                    let newArticlesCount = 0;
                    
                    for (const article of articles) {
                        const existingArticle = this.articles.find(a => 
                            a.title === article.title && a.source === article.source
                        );
                        
                        if (!existingArticle) {
                            await this.dataStorage.create(article);
                            this.articles.push(article);
                            newArticlesCount++;
                        }
                    }
                    
                    console.log(`âœ… Added ${newArticlesCount} new AADE articles`);
                    
                    if (newArticlesCount > 0) {
                        this.showNotification(`Î’ÏÎ­Î¸Î·ÎºÎ±Î½ ${newArticlesCount} Î½Î­ÎµÏ‚ Î±Î½Î±ÎºÎ¿Î¹Î½ÏÏƒÎµÎ¹Ï‚ Î±Ï€ÏŒ Î‘Î‘Î”Î•!`, 'success');
                    } else {
                        this.showNotification('Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎ±Î½ Î½Î­ÎµÏ‚ Î±Î½Î±ÎºÎ¿Î¹Î½ÏÏƒÎµÎ¹Ï‚ Î±Ï€ÏŒ Î‘Î‘Î”Î•', 'info');
                    }
                    
                    this.renderArticles();
                    
                } catch (error) {
                    console.error('âŒ Failed to fetch from AADE:', error);
                    this.showNotification(`Î£Ï†Î¬Î»Î¼Î± ÏƒÏ„Î· Ï†ÏŒÏÏ„Ï‰ÏƒÎ· Î±Ï€ÏŒ Î‘Î‘Î”Î•: ${error.message}`, 'error');
                } finally {
                    this.setLoading(false);
                }
            }
            
            renderArticles() {
                const grid = document.getElementById('articles-grid');
                const emptyState = document.getElementById('empty-state');
                const articleCount = document.getElementById('article-count');
                
                if (this.articles.length === 0) {
                    grid.innerHTML = '';
                    emptyState.classList.remove('hidden');
                    articleCount.textContent = '(0)';
                    return;
                }
                
                emptyState.classList.add('hidden');
                
                // Sort by date (newest first)
                const sortedArticles = [...this.articles].sort((a, b) => 
                    new Date(b.pub_date) - new Date(a.pub_date)
                );
                
                grid.innerHTML = sortedArticles.map(article => this.createArticleCard(article)).join('');
                articleCount.textContent = `(${sortedArticles.length})`;
                
                this.setupArticleEventListeners();
            }
            
            createArticleCard(article) {
                const publishDate = new Date(article.pub_date).toLocaleDateString('el-GR', {
                    year: 'numeric',
                    month: 'short',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
                
                return `
                    <article class="news-card bg-white rounded-lg shadow-sm p-6 fade-in">
                        <div class="flex justify-between items-start mb-3">
                            <span class="px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800">
                                ${article.source}
                            </span>
                            <button class="bookmark-btn text-gray-400 hover:text-yellow-500 transition-colors" 
                                    data-article-id="${article.id}" title="Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· ÏƒÏ„Î± Î±Î³Î±Ï€Î·Î¼Î­Î½Î±">
                                ${article.bookmarked ? 'â­' : 'â˜†'}
                            </button>
                        </div>
                        
                        <h3 class="text-lg font-semibold text-gray-900 mb-2 line-clamp-2">
                            <a href="${article.source_url}" target="_blank" rel="noopener noreferrer" 
                               class="hover:text-blue-600 transition-colors">
                                ${article.title}
                            </a>
                        </h3>
                        
                        <p class="text-gray-600 text-sm mb-4 line-clamp-3">${article.description}</p>
                        
                        <div class="flex justify-between items-center text-sm text-gray-500">
                            <time datetime="${article.pub_date}">${publishDate}</time>
                            <a href="${article.source_url}" target="_blank" rel="noopener noreferrer" 
                               class="text-blue-600 hover:text-blue-800 transition-colors">
                                Î”Î¹Î±Î²Î¬ÏƒÏ„Îµ Ï€ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎ± â†’
                            </a>
                        </div>
                    </article>
                `;
            }
            
            setupArticleEventListeners() {
                document.querySelectorAll('.bookmark-btn').forEach(btn => {
                    btn.addEventListener('click', async (e) => {
                        e.preventDefault();
                        const articleId = e.target.dataset.articleId;
                        const article = this.articles.find(a => a.id === articleId);
                        if (article) {
                            article.bookmarked = !article.bookmarked;
                            await this.dataStorage.update(article);
                            this.renderArticles();
                            this.showNotification(
                                article.bookmarked ? 'Î ÏÎ¿ÏƒÏ„Î­Î¸Î·ÎºÎµ ÏƒÏ„Î± Î±Î³Î±Ï€Î·Î¼Î­Î½Î±' : 'Î‘Ï†Î±Î¹ÏÎ­Î¸Î·ÎºÎµ Î±Ï€ÏŒ Ï„Î± Î±Î³Î±Ï€Î·Î¼Î­Î½Î±', 
                                'success'
                            );
                        }
                    });
                });
            }
            
            setLoading(loading) {
                this.isLoading = loading;
                const refreshBtn = document.getElementById('refresh-btn');
                const refreshIcon = document.getElementById('refresh-icon');
                const loadingState = document.getElementById('loading-state');
                
                if (loading) {
                    refreshBtn.disabled = true;
                    refreshBtn.classList.add('opacity-50', 'cursor-not-allowed');
                    refreshIcon.classList.add('animate-spin');
                    loadingState.classList.remove('hidden');
                } else {
                    refreshBtn.disabled = false;
                    refreshBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                    refreshIcon.classList.remove('animate-spin');
                    loadingState.classList.add('hidden');
                }
            }
            
            showNotification(message, type = 'info') {
                const toast = document.createElement('div');
                toast.className = `toast ${type}`;
                toast.textContent = message;
                
                document.body.appendChild(toast);
                
                setTimeout(() => {
                    toast.classList.add('show');
                }, 100);
                
                setTimeout(() => {
                    toast.classList.remove('show');
                    setTimeout(() => {
                        if (toast.parentNode) {
                            toast.parentNode.removeChild(toast);
                        }
                    }, 300);
                }, 4000);
            }
        }
        
        // Initialize the app
        document.addEventListener('DOMContentLoaded', () => {
            window.aadeNewsApp = new AADENewsApp();
        });
    </script>
</body>
</html>
